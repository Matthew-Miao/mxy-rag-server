# ğŸ¤– æ™ºèƒ½çŸ¥è¯†åŠ©æ‰‹ - AIé©±åŠ¨çš„RAGçŸ¥è¯†é—®ç­”ç³»ç»Ÿ

> **"è®©ä¼ä¸šçŸ¥è¯†ç¬é—´å˜æˆAIåŠ©æ‰‹"** - åŸºäºSpring AIçš„RAGæ™ºèƒ½çŸ¥è¯†é—®ç­”ç³»ç»Ÿ

[![GitHub](https://img.shields.io/badge/GitHub-mxy--rag--server-blue?logo=github)](https://github.com/Matthew-Miao/mxy-rag-server)
[![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.4.5-brightgreen)](https://spring.io/projects/spring-boot)
[![Spring AI](https://img.shields.io/badge/Spring%20AI-1.0.0-orange)](https://spring.io/projects/spring-ai)
[![Java](https://img.shields.io/badge/Java-17-red)](https://openjdk.java.net/)
[![License](https://img.shields.io/badge/License-MIT-yellow)](https://opensource.org/licenses/MIT)

## ğŸ“– é¡¹ç›®èƒŒæ™¯

ä½œä¸ºä¸€åJavaç¨‹åºå‘˜ï¼Œæˆ‘æ·±çŸ¥åœ¨ç°ä»£è½¯ä»¶å¼€å‘ä¸­ï¼Œä¸€ä¸ªäººå¾€å¾€éœ€è¦æ‰¿æ‹…å¤šé‡è§’è‰²ï¼š
- ğŸ¯ **äº§å“ç»ç†**ï¼šéœ€æ±‚åˆ†æã€äº§å“è®¾è®¡ã€ç”¨æˆ·ä½“éªŒè§„åˆ’
- ğŸ’» **ç ”å‘å·¥ç¨‹å¸ˆ**ï¼šæ¶æ„è®¾è®¡ã€ä»£ç å®ç°ã€æŠ€æœ¯é€‰å‹
- ğŸ§ª **æµ‹è¯•å·¥ç¨‹å¸ˆ**ï¼šæµ‹è¯•ç”¨ä¾‹è®¾è®¡ã€è´¨é‡ä¿è¯ã€æ€§èƒ½ä¼˜åŒ–
- ğŸ”§ **è¿ç»´å·¥ç¨‹å¸ˆ**ï¼šéƒ¨ç½²é…ç½®ã€ç›‘æ§å‘Šè­¦ã€æ•…éšœå¤„ç†

**æ™ºèƒ½çŸ¥è¯†åŠ©æ‰‹**é¡¹ç›®æ­£æ˜¯åœ¨è¿™æ ·çš„èƒŒæ™¯ä¸‹è¯ç”Ÿçš„â€”â€”å®ƒå±•ç¤ºäº†å¦‚ä½•å€ŸåŠ©AIæŠ€æœ¯ï¼Œè®©ä¸€ä¸ªJavaç¨‹åºå‘˜èƒ½å¤Ÿé«˜æ•ˆå®Œæˆä»äº§å“è®¾è®¡åˆ°è¿ç»´éƒ¨ç½²çš„å…¨æµç¨‹å·¥ä½œã€‚

### ğŸ¯ AIèµ‹èƒ½çš„å…¨æµç¨‹å¼€å‘
- **äº§å“è®¾è®¡é˜¶æ®µ**ï¼šåˆ©ç”¨AIè¾…åŠ©éœ€æ±‚åˆ†æã€PRDæ–‡æ¡£ç”Ÿæˆã€æŠ€æœ¯æ–¹æ¡ˆè®¾è®¡
- **ç ”å‘å®ç°é˜¶æ®µ**ï¼šé€šè¿‡AIä»£ç ç”Ÿæˆã€æ¶æ„ä¼˜åŒ–ã€æœ€ä½³å®è·µæ¨è
- **æµ‹è¯•éªŒè¯é˜¶æ®µ**ï¼šAIé©±åŠ¨çš„æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆã€è‡ªåŠ¨åŒ–æµ‹è¯•ã€è´¨é‡è¯„ä¼°
- **è¿ç»´éƒ¨ç½²é˜¶æ®µ**ï¼šæ™ºèƒ½åŒ–çš„éƒ¨ç½²è„šæœ¬ã€ç›‘æ§é…ç½®ã€æ•…éšœè¯Šæ–­

> ğŸš€ **é¡¹ç›®æ„¿æ™¯**ï¼šæ„å»ºä¸‹ä¸€ä»£æ™ºèƒ½çŸ¥è¯†ç®¡ç†å¹³å°ï¼Œè®©æ¯ä¸ªäººéƒ½èƒ½æ‹¥æœ‰ä¸“å±çš„AIçŸ¥è¯†åŠ©æ‰‹
>
> ğŸ’¡ **æ ¸å¿ƒç†å¿µ**ï¼šé€šè¿‡RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰æŠ€æœ¯ï¼Œå°†é™æ€çŸ¥è¯†è½¬åŒ–ä¸ºåŠ¨æ€æ™ºèƒ½ï¼Œå®ç°äººæœºååŒçš„çŸ¥è¯†åˆ›æ–°
>
> ğŸª **å®è·µæ¡ˆä¾‹**ï¼šæœ¬é¡¹ç›®æ˜¯Javaç¨‹åºå‘˜å€ŸåŠ©AIå®Œæˆå…¨æ ˆå¼€å‘çš„çœŸå®æ¡ˆä¾‹ï¼Œä»äº§å“è§„åˆ’åˆ°æŠ€æœ¯å®ç°ï¼Œå±•ç¤ºAIå¦‚ä½•æˆä¸ºå¼€å‘è€…çš„å¾—åŠ›åŠ©æ‰‹

## ğŸ¯ é¡¹ç›®æ„¿æ™¯

**åŸºäºRAGæŠ€æœ¯æ„å»ºä¼ä¸šçº§æ™ºèƒ½çŸ¥è¯†é—®ç­”ç³»ç»Ÿ**ï¼Œå¸®åŠ©ä¼ä¸šå¿«é€Ÿå°†æ–‡æ¡£çŸ¥è¯†è½¬åŒ–ä¸ºæ™ºèƒ½AIåŠ©æ‰‹ï¼Œæå‡çŸ¥è¯†ç®¡ç†å’Œæ£€ç´¢æ•ˆç‡ã€‚

### æ ¸å¿ƒç†å¿µ
- ğŸ§  **æ™ºèƒ½é—®ç­”**ï¼šåŸºäºä¼ä¸šæ–‡æ¡£çš„ç²¾å‡†çŸ¥è¯†é—®ç­”
- ğŸ“š **çŸ¥è¯†ç®¡ç†**ï¼šå¤šæ ¼å¼æ–‡æ¡£ä¸Šä¼ å’Œæ™ºèƒ½å¤„ç†
- ğŸ” **è¯­ä¹‰æ£€ç´¢**ï¼šå‘é‡åŒ–å­˜å‚¨å’Œç›¸ä¼¼åº¦æœç´¢
- ğŸ’¬ **å¯¹è¯ä½“éªŒ**ï¼šæµå¼å“åº”å’Œä¸Šä¸‹æ–‡ç†è§£

## âœ¨ äº§å“ç‰¹æ€§

### ğŸ¨ äº§å“å±‚é¢
- **3åˆ†é’Ÿéƒ¨ç½²**ï¼šæç®€å®‰è£…ï¼Œå¿«é€Ÿä¸Šæ‰‹
- **5åˆ†é’Ÿå»ºåº“**ï¼šæ‹–æ‹½ä¸Šä¼ ï¼Œè‡ªåŠ¨å¤„ç†
- **å³é—®å³ç­”**ï¼šæ™ºèƒ½æ£€ç´¢ï¼Œç²¾å‡†å›ç­”
- **æ¥æºå¯è¿½æº¯**ï¼šæ¯ä¸ªç­”æ¡ˆéƒ½æœ‰ä¾æ®

### ğŸ›  æŠ€æœ¯å±‚é¢
- **æ™ºèƒ½é—®ç­”**ï¼šåŸºäºRAGçš„çŸ¥è¯†åº“é—®ç­”
- **å¤šæ ¼å¼æ”¯æŒ**ï¼šPDFã€Wordã€TXTã€Markdownç­‰æ–‡æ¡£
- **å‘é‡å­˜å‚¨**ï¼šPostgreSQL + pgvectoré«˜æ€§èƒ½æ£€ç´¢
- **æµå¼å“åº”**ï¼šWebSocketå®æ—¶å¯¹è¯ä½“éªŒ
- **æ··åˆæ¶æ„**ï¼šMyBatis + Spring AIåŒå¼•æ“é©±åŠ¨

## ğŸ— æŠ€æœ¯æ¶æ„

### åç«¯æŠ€æœ¯æ ˆ
- **æ¡†æ¶**: Spring Boot 3.4.5 + Spring AI 1.0.0
- **è¯­è¨€**: Java 17
- **æ•°æ®åº“**: PostgreSQL + pgvector (å‘é‡å­˜å‚¨) + MySQL (ä¸šåŠ¡æ•°æ®)
- **ORM**: MyBatis-Plus 3.5.5 (ä¸šåŠ¡æ•°æ®) + Spring AI VectorStore (å‘é‡æ•°æ®)
- **è¿æ¥æ± **: HikariCP (é«˜æ€§èƒ½æ•°æ®åº“è¿æ¥æ± )
- **AIæ¨¡å‹**: é˜¿é‡Œäº‘é€šä¹‰åƒé—® (qwen-plus-latest) + text-embedding-v3

### å‰ç«¯æŠ€æœ¯æ ˆ (è§„åˆ’ä¸­)
- **æ¡†æ¶**: Vue 3 + TypeScript
- **UIåº“**: Element Plus
- **çŠ¶æ€ç®¡ç†**: Pinia
- **æ„å»ºå·¥å…·**: Vite
- **å®æ—¶é€šä¿¡**: WebSocket

### AIæœåŠ¡å±‚
- **LLMæ¨¡å‹**: qwen-plus-latest (é˜¿é‡Œäº‘é€šä¹‰åƒé—®)
- **åµŒå…¥æ¨¡å‹**: text-embedding-v3 (1024ç»´å‘é‡)
- **è°ƒç”¨æ–¹å¼**: OpenAIå…¼å®¹æ¨¡å¼ (DashScope API)
- **æ–‡æ¡£å¤„ç†**: Spring AI Tika Document Reader + PDF Reader
- **å‘é‡å­˜å‚¨**: Spring AI PGVector Store

### æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     å®¢æˆ·ç«¯ (Client)                         â”‚
â”‚                   HTTP/REST API                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                Spring Boot åº”ç”¨å±‚                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚ KnowledgeBase   â”‚  â”‚   Chat API      â”‚                  â”‚
â”‚  â”‚   Controller    â”‚  â”‚  (è§„åˆ’ä¸­)       â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ä¸šåŠ¡æœåŠ¡å±‚                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚ KnowledgeBase   â”‚  â”‚   Spring AI     â”‚                  â”‚
â”‚  â”‚    Service      â”‚  â”‚   Integration   â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ•°æ®è®¿é—®å±‚                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚   MyBatis-Plus  â”‚  â”‚  Spring AI      â”‚                  â”‚
â”‚  â”‚   (ä¸šåŠ¡æ•°æ®)     â”‚  â”‚  VectorStore    â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ•°æ®å­˜å‚¨å±‚                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚     MySQL       â”‚  â”‚   PostgreSQL    â”‚                  â”‚
â”‚  â”‚   (ä¸šåŠ¡æ•°æ®)     â”‚  â”‚   + pgvector    â”‚                  â”‚
â”‚  â”‚                 â”‚  â”‚   (å‘é‡æ•°æ®)     â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   å¤–éƒ¨AIæœåŠ¡                                â”‚
â”‚              é˜¿é‡Œäº‘é€šä¹‰åƒé—® DashScope API                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
mxy-rag-server/
â”œâ”€â”€ doc/                                    # æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ PRD.md                              # äº§å“éœ€æ±‚æ–‡æ¡£
â”‚   â”œâ”€â”€ technical_implementation.md         # æŠ€æœ¯å®ç°æ–‡æ¡£
â”‚   â”œâ”€â”€ init_database.sql                   # PostgreSQLåˆå§‹åŒ–è„šæœ¬
â”‚   â””â”€â”€ init_mysql_database.sql             # MySQLåˆå§‹åŒ–è„šæœ¬
â”œâ”€â”€ src/main/java/com/mxy/ai/rag/
â”‚   â”œâ”€â”€ MxyAIRagApplication.java            # Spring Bootå¯åŠ¨ç±»
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ MultiDataSourceConfig.java     # å¤šæ•°æ®æºé…ç½®
â”‚   â”œâ”€â”€ controller/
â”‚   â”‚   â””â”€â”€ KnowledgeBaseController.java   # çŸ¥è¯†åº“APIæ§åˆ¶å™¨
â”‚   â”œâ”€â”€ service/
â”‚   â”‚   â”œâ”€â”€ KnowledgeBaseService.java      # çŸ¥è¯†åº“æœåŠ¡æ¥å£
â”‚   â”‚   â””â”€â”€ impl/
â”‚   â”‚       â””â”€â”€ KnowledgeBaseServiceImpl.java # çŸ¥è¯†åº“æœåŠ¡å®ç°
â”‚   â””â”€â”€ datasource/                        # æ•°æ®è®¿é—®å±‚
â”‚       â”œâ”€â”€ entity/                        # å®ä½“ç±»(DO)
â”‚       â”‚   â”œâ”€â”€ UsersDO.java
â”‚       â”‚   â”œâ”€â”€ ChatSessionsDO.java
â”‚       â”‚   â”œâ”€â”€ ChatMessagesDO.java
â”‚       â”‚   â”œâ”€â”€ DocumentsDO.java
â”‚       â”‚   â”œâ”€â”€ DocumentChunksDO.java
â”‚       â”‚   â”œâ”€â”€ SystemConfigDO.java
â”‚       â”‚   â””â”€â”€ OperationLogsDO.java
â”‚       â”œâ”€â”€ mapper/                        # MyBatis Mapperæ¥å£
â”‚       â”‚   â”œâ”€â”€ UsersMapper.java
â”‚       â”‚   â”œâ”€â”€ ChatSessionsMapper.java
â”‚       â”‚   â”œâ”€â”€ ChatMessagesMapper.java
â”‚       â”‚   â”œâ”€â”€ DocumentsMapper.java
â”‚       â”‚   â”œâ”€â”€ DocumentChunksMapper.java
â”‚       â”‚   â”œâ”€â”€ SystemConfigMapper.java
â”‚       â”‚   â””â”€â”€ OperationLogsMapper.java
â”‚       â””â”€â”€ dao/                           # DAOä¸šåŠ¡å±‚
â”‚           â”œâ”€â”€ UsersDAO.java
â”‚           â”œâ”€â”€ ChatSessionsDAO.java
â”‚           â”œâ”€â”€ ChatMessagesDAO.java
â”‚           â”œâ”€â”€ DocumentsDAO.java
â”‚           â”œâ”€â”€ DocumentChunksDAO.java
â”‚           â”œâ”€â”€ SystemConfigDAO.java
â”‚           â””â”€â”€ OperationLogsDAO.java
â”œâ”€â”€ src/main/resources/
â”‚   â”œâ”€â”€ application.yaml                   # åº”ç”¨é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ mapper/                           # MyBatis XMLæ˜ å°„æ–‡ä»¶
â”‚       â”œâ”€â”€ UsersMapper.xml
â”‚       â”œâ”€â”€ ChatSessionsMapper.xml
â”‚       â”œâ”€â”€ ChatMessagesMapper.xml
â”‚       â”œâ”€â”€ DocumentsMapper.xml
â”‚       â”œâ”€â”€ DocumentChunksMapper.xml
â”‚       â”œâ”€â”€ SystemConfigMapper.xml
â”‚       â””â”€â”€ OperationLogsMapper.xml
â”œâ”€â”€ pom.xml                               # Mavenä¾èµ–é…ç½®
â””â”€â”€ README.md                             # é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

**ç³»ç»Ÿè¦æ±‚**:
- Java 17+
- PostgreSQL 12+ (éœ€å®‰è£…pgvectoræ‰©å±•)
- MySQL 8.0+
- Maven 3.6+

**APIå¯†é’¥é…ç½®**:
```bash
# Windows
set AI_DASHSCOPE_API_KEY=your_dashscope_api_key

# Linux/Mac
export AI_DASHSCOPE_API_KEY=your_dashscope_api_key
```

### 2. æ•°æ®åº“åˆå§‹åŒ–

**PostgreSQL (å‘é‡æ•°æ®åº“)**:
```sql
-- åˆ›å»ºå‘é‡æ•°æ®åº“
CREATE DATABASE mxy_rag_vector_db;

-- å¯ç”¨pgvectoræ‰©å±•
\c mxy_rag_vector_db;
CREATE EXTENSION IF NOT EXISTS vector;

-- æ‰§è¡Œå‘é‡æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
\i doc/init_database.sql
```

**MySQL (ä¸šåŠ¡æ•°æ®åº“)**:
```sql
-- åˆ›å»ºä¸šåŠ¡æ•°æ®åº“
CREATE DATABASE mxy_rag_db DEFAULT CHARACTER SET utf8mb4;

-- æ‰§è¡Œä¸šåŠ¡æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
USE mxy_rag_db;
source doc/init_mysql_database.sql;
```

### 3. åç«¯å¯åŠ¨

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/Matthew-Miao/mxy-rag-server.git
cd mxy-rag-server

# é…ç½®ç¯å¢ƒå˜é‡
set AI_DASHSCOPE_API_KEY=your_api_key
set postgresql.host=localhost
set mysql.host=localhost
set mysql.username=root
set mysql.password=your_password

# ç¼–è¯‘å¹¶å¯åŠ¨åº”ç”¨
mvn clean spring-boot:run
```

### 4. éªŒè¯å¯åŠ¨

**è®¿é—®åœ°å€**:
- åç«¯API: `http://localhost:9000`
- APIæ–‡æ¡£: `http://localhost:9000/swagger-ui.html` (å¦‚å·²é…ç½®)
- å¥åº·æ£€æŸ¥: `http://localhost:9000/actuator/health` (å¦‚å·²é…ç½®)

**æµ‹è¯•API**:
```bash
# æ’å…¥æµ‹è¯•æ–‡æœ¬
curl -X POST "http://localhost:9000/api/v1/knowledge-base/insert-text" \
     -d "content=è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•æ–‡æ¡£å†…å®¹"

# ç›¸ä¼¼æ€§æœç´¢
curl "http://localhost:9000/api/v1/knowledge-base/search?query=æµ‹è¯•&topK=5"
```

## ğŸ“¡ æ ¸å¿ƒAPIæ¥å£

### ğŸ¤– æ™ºèƒ½å¯¹è¯API (å¼€å‘ä¸­)

```http
# å‘é€æ¶ˆæ¯ (è§„åˆ’ä¸­)
POST /api/v1/chat/send
Content-Type: application/json
{
  "sessionId": "session_123",
  "message": "ä»€ä¹ˆæ˜¯RAGæŠ€æœ¯ï¼Ÿ",
  "stream": true
}

# è·å–ä¼šè¯åˆ—è¡¨ (è§„åˆ’ä¸­)
GET /api/v1/chat/sessions?page=1&size=20

# åˆ›å»ºæ–°ä¼šè¯ (è§„åˆ’ä¸­)
POST /api/v1/chat/sessions
{
  "title": "æ–°å¯¹è¯"
}
```

### ğŸ“š çŸ¥è¯†åº“ç®¡ç†API

```http
# ä¸Šä¼ æ–‡æ¡£
POST /api/v1/knowledge-base/upload-file
Content-Type: multipart/form-data
file=@document.pdf

# æ’å…¥æ–‡æœ¬å†…å®¹
POST /api/v1/knowledge-base/insert-text
Content-Type: application/x-www-form-urlencoded
content=è¦æ’å…¥çš„æ–‡æœ¬å†…å®¹

# ç›¸ä¼¼æ€§æœç´¢
GET /api/v1/knowledge-base/search?query=æœç´¢å†…å®¹&topK=5

# è·å–æ–‡æ¡£åˆ—è¡¨
GET /api/v1/knowledge-base/documents

# åˆ é™¤æ–‡æ¡£
DELETE /api/v1/knowledge-base/documents/{id}
```

### ğŸ”Œ WebSocketå®æ—¶é€šä¿¡ (è§„åˆ’ä¸­)

```javascript
// è¿æ¥WebSocket (è§„åˆ’ä¸­)
const ws = new WebSocket('ws://localhost:9000/api/v1/chat/stream');

// å‘é€æ¶ˆæ¯
ws.send(JSON.stringify({
  "type": "chat",
  "sessionId": "session_123",
  "message": "ç”¨æˆ·é—®é¢˜"
}));

// æ¥æ”¶å“åº”
ws.onmessage = (event) => {
  const response = JSON.parse(event.data);
  console.log(response.content);
};
```

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½ç‰¹æ€§

### ğŸ“š çŸ¥è¯†åº“ç®¡ç†
- **æ–‡æ¡£ä¸Šä¼ **: æ”¯æŒPDFã€Wordã€TXTã€Markdownç­‰å¤šç§æ ¼å¼
- **æ™ºèƒ½å¤„ç†**: è‡ªåŠ¨æ–‡æ¡£è§£æå’Œæ–‡æœ¬æå–
- **å‘é‡åŒ–å­˜å‚¨**: åŸºäºtext-embedding-v3çš„1024ç»´å‘é‡å­˜å‚¨
- **æ‰¹é‡ç®¡ç†**: æ”¯æŒæ‰¹é‡ä¸Šä¼ å’Œæ–‡æ¡£ç®¡ç†

### ğŸ” æ™ºèƒ½æ£€ç´¢
- **è¯­ä¹‰æœç´¢**: åŸºäºå‘é‡ç›¸ä¼¼åº¦çš„æ™ºèƒ½æ£€ç´¢
- **ç²¾å‡†åŒ¹é…**: æ”¯æŒå…³é”®è¯å’Œè¯­ä¹‰åŒé‡åŒ¹é…
- **æ¥æºè¿½æº¯**: æ¯ä¸ªç­”æ¡ˆéƒ½æ ‡æ³¨å…·ä½“çš„æ–‡æ¡£æ¥æº
- **ç›¸å…³æ€§æ’åº**: æŒ‰ç›¸ä¼¼åº¦åˆ†æ•°æ’åºæ£€ç´¢ç»“æœ

### ğŸ¤– AIé—®ç­” (è§„åˆ’ä¸­)
- **è‡ªç„¶å¯¹è¯**: æ”¯æŒè‡ªç„¶è¯­è¨€é—®ç­”äº¤äº’
- **ä¸Šä¸‹æ–‡ç†è§£**: å¤šè½®å¯¹è¯çš„ä¸Šä¸‹æ–‡è®°å¿†
- **æµå¼å“åº”**: å®æ—¶æ˜¾ç¤ºAIå›ç­”è¿‡ç¨‹
- **è´¨é‡è¯„ä»·**: æ”¯æŒç”¨æˆ·å¯¹å›ç­”è´¨é‡è¿›è¡Œè¯„åˆ†

## âš™ï¸ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡é…ç½®
```bash
# å¿…éœ€é…ç½®
AI_DASHSCOPE_API_KEY=your_dashscope_api_key    # é˜¿é‡Œäº‘DashScope APIå¯†é’¥
postgresql.host=localhost                       # PostgreSQLä¸»æœºåœ°å€
mysql.host=localhost                           # MySQLä¸»æœºåœ°å€
mysql.username=root                            # MySQLç”¨æˆ·å
mysql.password=your_password                   # MySQLå¯†ç 
```

### AIæ¨¡å‹é…ç½®
- **Chatæ¨¡å‹**: qwen-plus-latest (é˜¿é‡Œäº‘é€šä¹‰åƒé—®)
- **åµŒå…¥æ¨¡å‹**: text-embedding-v3 (1024ç»´å‘é‡)
- **è°ƒç”¨æ–¹å¼**: OpenAIå…¼å®¹æ¨¡å¼
- **APIåœ°å€**: https://dashscope.aliyuncs.com/compatible-mode

### ç³»ç»Ÿé…ç½®
- **æœåŠ¡ç«¯å£**: 9000
- **æ–‡ä»¶ä¸Šä¼ **: æœ€å¤§æ”¯æŒ10MBæ–‡ä»¶
- **å‘é‡ç»´åº¦**: 1024ç»´ (text-embedding-v3)
- **æ•°æ®åº“è¿æ¥æ± **: HikariCP (PostgreSQL: 12ä¸ªè¿æ¥, MySQL: 12ä¸ªè¿æ¥)
- **å¤šæ•°æ®æº**: PostgreSQL(å‘é‡) + MySQL(ä¸šåŠ¡)

## ğŸ“‹ é¡¹ç›®çŠ¶æ€

- âœ… **æ•°æ®åº“è®¾è®¡**: PostgreSQL + pgvector + MySQL + MyBatis-Plusé›†æˆ
- âœ… **çŸ¥è¯†åº“ç®¡ç†**: æ–‡æ¡£ä¸Šä¼ ã€æ–‡æœ¬æ’å…¥ã€å‘é‡å­˜å‚¨
- âœ… **æ™ºèƒ½æ£€ç´¢**: åŸºäºå‘é‡ç›¸ä¼¼åº¦çš„è¯­ä¹‰æœç´¢
- âœ… **å¤šæ•°æ®æºé…ç½®**: PostgreSQL(å‘é‡) + MySQL(ä¸šåŠ¡)åŒæ•°æ®æº
- ğŸš§ **AIå¯¹è¯åŠŸèƒ½**: æ™ºèƒ½é—®ç­”å’Œä¼šè¯ç®¡ç† (å¼€å‘ä¸­)
- ğŸš§ **å‰ç«¯ç•Œé¢**: Vue 3 + Element Plus (è§„åˆ’ä¸­)
- ğŸ“‹ **WebSocket**: å®æ—¶é€šä¿¡å’Œæµå¼å“åº” (è§„åˆ’ä¸­)
- ğŸ“‹ **éƒ¨ç½²æ–¹æ¡ˆ**: Docker + K8s (è§„åˆ’ä¸­)

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [äº§å“éœ€æ±‚æ–‡æ¡£ (PRD)](./doc/PRD.md) - è¯¦ç»†çš„äº§å“è®¾è®¡å’Œä¸šåŠ¡éœ€æ±‚
- [æŠ€æœ¯å®ç°æ–‡æ¡£](./doc/technical_implementation.md) - æŠ€æœ¯æ¶æ„å’Œå®ç°ç»†èŠ‚
- [PostgreSQLæ•°æ®åº“åˆå§‹åŒ–](./doc/init_database.sql) - å‘é‡æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
- [MySQLæ•°æ®åº“åˆå§‹åŒ–](./doc/init_mysql_database.sql) - ä¸šåŠ¡æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
- [GitHubä»“åº“](https://github.com/Matthew-Miao/mxy-rag-server) - æºä»£ç å’Œç‰ˆæœ¬ç®¡ç†

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼æ— è®ºæ˜¯:
- ğŸ› BugæŠ¥å‘Šå’Œä¿®å¤
- âœ¨ æ–°åŠŸèƒ½å»ºè®®å’Œå®ç°
- ğŸ“– æ–‡æ¡£æ”¹è¿›å’Œå®Œå–„
- ğŸ§ª æµ‹è¯•ç”¨ä¾‹è¡¥å……
- ğŸ”§ ä»£ç ä¼˜åŒ–å’Œé‡æ„

**è´¡çŒ®æµç¨‹**:
1. Fork é¡¹ç›®åˆ°ä½ çš„GitHubè´¦æˆ·
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤ä½ çš„ä¿®æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

## ğŸ“ è”ç³»æˆ‘ä»¬

- **é¡¹ç›®è´Ÿè´£äºº**: Matthew-Miao
- **é‚®ç®±**: 2329385737@qq.com
- **GitHub**: [Matthew-Miao/mxy-rag-server](https://github.com/Matthew-Miao/mxy-rag-server)
- **æŠ€æœ¯äº¤æµ**: [GitHub Issues](https://github.com/Matthew-Miao/mxy-rag-server/issues)
- **äº§å“åé¦ˆ**: [GitHub Discussions](https://github.com/Matthew-Miao/mxy-rag-server/discussions)

---

**è®¸å¯è¯**: MIT License  
**ç‰ˆæœ¬**: v1.0 MVP  
**æœ€åæ›´æ–°**: 2025å¹´1æœˆ